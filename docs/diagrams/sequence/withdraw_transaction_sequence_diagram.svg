<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="527px" preserveAspectRatio="none" style="width:601px;height:527px;background:#FFFFFF;" version="1.1" viewBox="0 0 601 527" width="601px" zoomAndPan="magnify"><title>Withdraw Transaction Sequence Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="327.5029" x="138.1162" y="27.9951">Withdraw Transaction Sequence Diagram</text><g><title>BankingService</title><rect fill="#FFFFFF" height="287" style="stroke:#181818;stroke-width:1;" width="10" x="274.4995" y="149.7266"/></g><g><title>SupabaseClient</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="518.1709" y="178.8594"/></g><g><title>SupabaseClient</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="518.1709" y="261.2578"/></g><rect fill="none" height="206.7344" style="stroke:#000000;stroke-width:1.5;" width="584.7354" x="10" y="222.9922"/><g><title>Customer</title><rect fill="#000000" fill-opacity="0.00000" height="328.1328" width="8" x="53.002" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="57" x2="57" y1="118.5938" y2="446.7266"/></g><g><title>BankingService</title><rect fill="#000000" fill-opacity="0.00000" height="328.1328" width="8" x="275.4995" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="279.2222" x2="279.2222" y1="118.5938" y2="446.7266"/></g><g><title>SupabaseClient</title><rect fill="#000000" fill-opacity="0.00000" height="328.1328" width="8" x="519.1709" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="522.6064" x2="522.6064" y1="118.5938" y2="446.7266"/></g><g class="participant participant-head" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="20" y="115.292">Customer</text><ellipse cx="57.002" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.002,58.7969 L57.002,85.7969 M44.002,66.7969 L70.002,66.7969 M57.002,85.7969 L44.002,100.7969 M57.002,85.7969 L70.002,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Customer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0039" x="20" y="458.7217">Customer</text><ellipse cx="57.002" cy="470.5234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.002,478.5234 L57.002,505.5234 M44.002,486.5234 L70.002,486.5234 M57.002,505.5234 L44.002,520.5234 M57.002,505.5234 L70.002,520.5234" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="BankingService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.5547" x="218.2222" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5547" x="225.2222" y="107.292">BankingService</text></g><g class="participant participant-tail" data-participant="BankingService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.5547" x="218.2222" y="445.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5547" x="225.2222" y="465.7217">BankingService</text></g><g class="participant participant-head" data-participant="SupabaseClient"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1289" x="461.6064" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1289" x="468.6064" y="107.292">SupabaseClient</text></g><g class="participant participant-tail" data-participant="SupabaseClient"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1289" x="461.6064" y="445.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1289" x="468.6064" y="465.7217">SupabaseClient</text></g><g><title>BankingService</title><rect fill="#FFFFFF" height="287" style="stroke:#181818;stroke-width:1;" width="10" x="274.4995" y="149.7266"/></g><g><title>SupabaseClient</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="518.1709" y="178.8594"/></g><g><title>SupabaseClient</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="518.1709" y="261.2578"/></g><g class="message" data-participant-1="Customer" data-participant-2="BankingService"><polygon fill="#181818" points="262.4995,145.7266,272.4995,149.7266,262.4995,153.7266,266.4995,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="57.002" x2="268.4995" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.4976" x="64.002" y="144.6606">withdraw(account_id, amount)</text></g><g class="message" data-participant-1="BankingService" data-participant-2="SupabaseClient"><polygon fill="#181818" points="506.1709,174.8594,516.1709,178.8594,506.1709,182.8594,510.1709,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.4995" x2="512.1709" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.915" x="291.4995" y="173.7935">fetch current balance</text></g><g class="message" data-participant-1="SupabaseClient" data-participant-2="BankingService"><polygon fill="#181818" points="295.4995,203.9922,285.4995,207.9922,295.4995,211.9922,291.4995,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.4995" x2="522.1709" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.5952" x="301.4995" y="202.9263">balance data</text></g><path d="M10,222.9922 L74.4429,222.9922 L74.4429,230.125 L64.4429,240.125 L10,240.125 L10,222.9922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="206.7344" style="stroke:#000000;stroke-width:1.5;" width="584.7354" x="10" y="222.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="236.0591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120.7476" x="89.4429" y="235.2026">[sufficient balance]</text><g class="message" data-participant-1="BankingService" data-participant-2="SupabaseClient"><polygon fill="#181818" points="506.1709,257.2578,516.1709,261.2578,506.1709,265.2578,510.1709,261.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.4995" x2="512.1709" y1="261.2578" y2="261.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.6714" x="291.4995" y="256.1919">update balance (deduct amount)</text></g><g class="message" data-participant-1="SupabaseClient" data-participant-2="BankingService"><polygon fill="#181818" points="295.4995,286.3906,285.4995,290.3906,295.4995,294.3906,291.4995,290.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.4995" x2="517.1709" y1="290.3906" y2="290.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.3701" x="301.4995" y="285.3247">balance updated</text></g><g class="message" data-participant-1="BankingService" data-participant-2="SupabaseClient"><polygon fill="#181818" points="506.1709,315.5234,516.1709,319.5234,506.1709,323.5234,510.1709,319.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="284.4995" x2="512.1709" y1="319.5234" y2="319.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.8052" x="291.4995" y="314.4575">insert transaction record</text></g><g class="message" data-participant-1="SupabaseClient" data-participant-2="BankingService"><polygon fill="#181818" points="295.4995,344.6563,285.4995,348.6563,295.4995,352.6563,291.4995,348.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="289.4995" x2="522.1709" y1="348.6563" y2="348.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.8877" x="301.4995" y="343.5903">transaction logged</text></g><g class="message" data-participant-1="BankingService" data-participant-2="Customer"><polygon fill="#181818" points="68.002,373.7891,58.002,377.7891,68.002,381.7891,64.002,377.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="62.002" x2="273.4995" y1="377.7891" y2="377.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.3374" x="74.002" y="372.7231">withdrawal success</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="594.7354" y1="386.7891" y2="386.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.3491" x="15" y="396.9995">[insufficient balance]</text><g class="message" data-participant-1="BankingService" data-participant-2="Customer"><polygon fill="#181818" points="68.002,417.7266,58.002,421.7266,68.002,425.7266,64.002,421.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="62.002" x2="273.4995" y1="421.7266" y2="421.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.876" x="74.002" y="416.6606">error - insufficient funds</text></g><!--SRC=[bP9DJiGm38NtEOMNWqGlm68M33Se4alaIToEHPeCZZDpVHAOdxPGgUmS9UzxBxQLrHEyiHwSu1bU1KD2gnm3jFIPALY25yPUS32cN4I1NKuQ1n9ZhXKqMtZ6yC6XRqbEN3HFSBumDsXjp47VsJq23hLyg2G-eT9CPcQKmctp4VUOQEUPWXPkHseFOBD8FU_HOybu1qxVcvcy-IlfXG4E5OsZ9PH1hv1orx7biJN0YjJvw2hoQhLnvBBLMpy0bbm1_lE57nktBXE7HAAWevaBsIXkfUbOw6FVV_ikz-ztfWAzhT1zOT2NBbjBAHdoYMhCDKsVmaYah6ep5NSvk08DRZpbAUSB]--></g></svg>